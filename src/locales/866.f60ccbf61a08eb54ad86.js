/*! For license information please see 866.f60ccbf61a08eb54ad86.js.LICENSE.txt */
(self.webpackChunkreact_advanced=self.webpackChunkreact_advanced||[]).push([[866],{5550:(e,t,r)=>{"use strict";r.d(t,{U:()=>l,g:()=>u.g});var n=r(4942),o=r(3562),a=r(5893);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var l=function(e){return(0,a.jsx)(o.k,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({direction:"row"},e))},u=r(4092)},7866:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ge});var n=r(4942),o=r(3942),a=r(3007),i=r(4478),l=r(1233),u=r(5401),c=r(9970),s=r(7294),d=r(5550),p=r(1715),f=function(e){return e.USA="USA",e.EUROPE="Europe",e}({}),v=r(4192),h=r(5910),y=r(6723),g=r(3855);function b(e,t){let[r,n]=(0,s.useState)(e),o=(0,g.E)(e);return(0,y.e)((()=>n(o.current)),[o,n,...t]),r}var m,x=r(3784),O=r(2351),R=r(2984),C=r(9362),E=r(1363),j=r(1497),w=r(4103),S=r(4575),P=r(6567),N=r(4157),T=r(8911),L=((m=L||{})[m.None=1]="None",m[m.Focusable=2]="Focusable",m[m.Hidden=4]="Hidden",m);let I=(0,O.yV)((function(e,t){let{features:r=1,...n}=e,o={ref:t,"aria-hidden":2==(2&r)||void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&r)&&2!=(2&r)&&{display:"none"}}};return(0,O.sY)({ourProps:o,theirProps:n,slot:{},defaultTag:"div",name:"Hidden"})}));function D(e={},t=null,r=[]){for(let[n,o]of Object.entries(e))A(r,k(t,n),o);return r}function k(e,t){return e?e+"["+t+"]":t}function A(e,t,r){if(Array.isArray(r))for(let[n,o]of r.entries())A(e,k(t,n.toString()),o);else r instanceof Date?e.push([t,r.toISOString()]):"boolean"==typeof r?e.push([t,r?"1":"0"]):"string"==typeof r?e.push([t,r]):"number"==typeof r?e.push([t,`${r}`]):null==r?e.push([t,""]):D(r,t,e)}var _,U,F=r(5466),M=r(3781),Z=((U=Z||{})[U.Open=0]="Open",U[U.Closed=1]="Closed",U),z=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(z||{}),V=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(V||{}),G=((_=G||{})[_.OpenListbox=0]="OpenListbox",_[_.CloseListbox=1]="CloseListbox",_[_.SetDisabled=2]="SetDisabled",_[_.SetOrientation=3]="SetOrientation",_[_.GoToOption=4]="GoToOption",_[_.Search=5]="Search",_[_.ClearSearch=6]="ClearSearch",_[_.RegisterOption=7]="RegisterOption",_[_.UnregisterOption=8]="UnregisterOption",_);function Y(e,t=(e=>e)){let r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,n=(0,S.z2)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),o=r?n.indexOf(r):null;return-1===o&&(o=null),{options:n,activeOptionIndex:o}}let Q={1:e=>e.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{value:r,mode:n,compare:o}=e.propsRef.current,a=e.options.findIndex((e=>{let t=e.dataRef.current.value;return(0,R.E)(n,{1:()=>r.some((e=>o(e,t))),0:()=>o(r,t)})}));return-1!==a&&(t=a),{...e,listboxState:0,activeOptionIndex:t}},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},4(e,t){var r;if(e.disabled||1===e.listboxState)return e;let n=Y(e),o=(0,j.d)(t,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeOptionIndex:o,activationTrigger:null!=(r=t.trigger)?r:1}},5:(e,t)=>{if(e.disabled||1===e.listboxState)return e;let r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))})),a=o?e.options.indexOf(o):-1;return-1===a||a===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:a,activationTrigger:1}},6:e=>e.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},7:(e,t)=>{let r={id:t.id,dataRef:t.dataRef},n=Y(e,(e=>[...e,r]));if(null===e.activeOptionIndex){let{value:o,mode:a,compare:i}=e.propsRef.current,l=t.dataRef.current.value;(0,R.E)(a,{1:()=>o.some((e=>i(e,l))),0:()=>i(o,l)})&&(n.activeOptionIndex=n.options.indexOf(r))}return{...e,...n}},8:(e,t)=>{let r=Y(e,(e=>{let r=e.findIndex((e=>e.id===t.id));return-1!==r&&e.splice(r,1),e}));return{...e,...r,activationTrigger:1}}},$=(0,s.createContext)(null);function W(e){let t=(0,s.useContext)($);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,W),t}return t}function H(e,t){return(0,R.E)(t.type,Q,e,t)}$.displayName="ListboxContext";let B=s.Fragment,K=(0,O.yV)((function(e,t){let{value:r,name:n,onChange:o,disabled:a=!1,horizontal:i=!1,multiple:l=!1,...u}=e;const c=i?"horizontal":"vertical";let d=(0,x.T)(t),p=(0,s.useReducer)(H,{listboxState:1,propsRef:{current:{value:r,onChange:o,mode:l?1:0,compare:(0,M.z)(((e,t)=>e===t))}},labelRef:(0,s.createRef)(),buttonRef:(0,s.createRef)(),optionsRef:(0,s.createRef)(),disabled:a,orientation:c,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:f,propsRef:v,optionsRef:h,buttonRef:g},b]=p;v.current.value=r,v.current.mode=l?1:0,(0,y.e)((()=>{v.current.onChange=e=>(0,R.E)(v.current.mode,{0:()=>o(e),1(){let t=v.current.value.slice(),r=t.indexOf(e);return-1===r?t.push(e):t.splice(r,1),o(t)}})}),[o,v]),(0,y.e)((()=>b({type:2,disabled:a})),[a]),(0,y.e)((()=>b({type:3,orientation:c})),[c]),(0,T.O)([g,h],((e,t)=>{var r;b({type:1}),(0,S.sP)(t,S.tJ.Loose)||(e.preventDefault(),null==(r=g.current)||r.focus())}),0===f);let m=(0,s.useMemo)((()=>({open:0===f,disabled:a})),[f,a]),C={ref:d};return s.createElement($.Provider,{value:p},s.createElement(P.up,{value:(0,R.E)(f,{0:P.ZM.Open,1:P.ZM.Closed})},null!=n&&null!=r&&D({[n]:r}).map((([e,t])=>s.createElement(I,{features:L.Hidden,...(0,O.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),(0,O.sY)({ourProps:C,theirProps:u,slot:m,defaultTag:B,name:"Listbox"})))})),q=(0,O.yV)((function(e,t){var r;let[n,o]=W("Listbox.Button"),a=(0,x.T)(n.buttonRef,t),i=`headlessui-listbox-button-${(0,h.M)()}`,l=(0,v.G)(),u=(0,M.z)((e=>{switch(e.key){case E.R.Space:case E.R.Enter:case E.R.ArrowDown:e.preventDefault(),o({type:0}),l.nextFrame((()=>{n.propsRef.current.value||o({type:4,focus:j.T.First})}));break;case E.R.ArrowUp:e.preventDefault(),o({type:0}),l.nextFrame((()=>{n.propsRef.current.value||o({type:4,focus:j.T.Last})}))}})),c=(0,M.z)((e=>{e.key===E.R.Space&&e.preventDefault()})),d=(0,M.z)((e=>{if((0,w.P)(e.currentTarget))return e.preventDefault();0===n.listboxState?(o({type:1}),l.nextFrame((()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),o({type:0}))})),p=b((()=>{if(n.labelRef.current)return[n.labelRef.current.id,i].join(" ")}),[n.labelRef.current,i]),f=(0,s.useMemo)((()=>({open:0===n.listboxState,disabled:n.disabled})),[n]),y=e,g={ref:a,id:i,type:(0,N.f)(e,n.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=n.optionsRef.current)?void 0:r.id,"aria-expanded":n.disabled?void 0:0===n.listboxState,"aria-labelledby":p,disabled:n.disabled,onKeyDown:u,onKeyUp:c,onClick:d};return(0,O.sY)({ourProps:g,theirProps:y,slot:f,defaultTag:"button",name:"Listbox.Button"})})),J=(0,O.yV)((function(e,t){let[r]=W("Listbox.Label"),n=`headlessui-listbox-label-${(0,h.M)()}`,o=(0,x.T)(r.labelRef,t),a=(0,M.z)((()=>{var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),i=(0,s.useMemo)((()=>({open:0===r.listboxState,disabled:r.disabled})),[r]);return(0,O.sY)({ourProps:{ref:o,id:n,onClick:a},theirProps:e,slot:i,defaultTag:"label",name:"Listbox.Label"})})),X=O.AN.RenderStrategy|O.AN.Static,ee=(0,O.yV)((function(e,t){var r;let[n,o]=W("Listbox.Options"),a=(0,x.T)(n.optionsRef,t),i=`headlessui-listbox-options-${(0,h.M)()}`,l=(0,v.G)(),u=(0,v.G)(),c=(0,P.oJ)(),d=null!==c?c===P.ZM.Open:0===n.listboxState;(0,s.useEffect)((()=>{var e;let t=n.optionsRef.current;!t||0===n.listboxState&&t!==(null==(e=(0,F.r)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[n.listboxState,n.optionsRef]);let p=(0,M.z)((e=>{switch(u.dispose(),e.key){case E.R.Space:if(""!==n.searchQuery)return e.preventDefault(),e.stopPropagation(),o({type:5,value:e.key});case E.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==n.activeOptionIndex){let{dataRef:e}=n.options[n.activeOptionIndex];n.propsRef.current.onChange(e.current.value)}0===n.propsRef.current.mode&&(o({type:1}),(0,C.k)().nextFrame((()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,R.E)(n.orientation,{vertical:E.R.ArrowDown,horizontal:E.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),o({type:4,focus:j.T.Next});case(0,R.E)(n.orientation,{vertical:E.R.ArrowUp,horizontal:E.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),o({type:4,focus:j.T.Previous});case E.R.Home:case E.R.PageUp:return e.preventDefault(),e.stopPropagation(),o({type:4,focus:j.T.First});case E.R.End:case E.R.PageDown:return e.preventDefault(),e.stopPropagation(),o({type:4,focus:j.T.Last});case E.R.Escape:return e.preventDefault(),e.stopPropagation(),o({type:1}),l.nextFrame((()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case E.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(o({type:5,value:e.key}),u.setTimeout((()=>o({type:6})),350))}})),f=b((()=>{var e,t,r;return null!=(r=null==(e=n.labelRef.current)?void 0:e.id)?r:null==(t=n.buttonRef.current)?void 0:t.id}),[n.labelRef.current,n.buttonRef.current]),y=(0,s.useMemo)((()=>({open:0===n.listboxState})),[n]),g=e,m={"aria-activedescendant":null===n.activeOptionIndex||null==(r=n.options[n.activeOptionIndex])?void 0:r.id,"aria-multiselectable":1===n.propsRef.current.mode||void 0,"aria-labelledby":f,"aria-orientation":n.orientation,id:i,onKeyDown:p,role:"listbox",tabIndex:0,ref:a};return(0,O.sY)({ourProps:m,theirProps:g,slot:y,defaultTag:"ul",features:X,visible:d,name:"Listbox.Options"})})),te=(0,O.yV)((function(e,t){let{disabled:r=!1,value:n,...o}=e,[a,i]=W("Listbox.Option"),l=`headlessui-listbox-option-${(0,h.M)()}`,u=null!==a.activeOptionIndex&&a.options[a.activeOptionIndex].id===l,{value:c,compare:d}=a.propsRef.current,p=(0,R.E)(a.propsRef.current.mode,{1:()=>c.some((e=>d(e,n))),0:()=>d(c,n)}),f=(0,s.useRef)(null),v=(0,x.T)(t,f);(0,y.e)((()=>{if(0!==a.listboxState||!u||0===a.activationTrigger)return;let e=(0,C.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=f.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[f,u,a.listboxState,a.activationTrigger,a.activeOptionIndex]);let g=(0,s.useRef)({disabled:r,value:n,domRef:f});(0,y.e)((()=>{g.current.disabled=r}),[g,r]),(0,y.e)((()=>{g.current.value=n}),[g,n]),(0,y.e)((()=>{var e,t;g.current.textValue=null==(t=null==(e=f.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[g,f]);let b=(0,M.z)((()=>a.propsRef.current.onChange(n)));(0,y.e)((()=>(i({type:7,id:l,dataRef:g}),()=>i({type:8,id:l}))),[g,l]);let m=(0,M.z)((e=>{if(r)return e.preventDefault();b(),0===a.propsRef.current.mode&&(i({type:1}),(0,C.k)().nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),E=(0,M.z)((()=>{if(r)return i({type:4,focus:j.T.Nothing});i({type:4,focus:j.T.Specific,id:l})})),w=(0,M.z)((()=>{r||u||i({type:4,focus:j.T.Specific,id:l,trigger:0})})),S=(0,M.z)((()=>{r||!u||i({type:4,focus:j.T.Nothing})})),P=(0,s.useMemo)((()=>({active:u,selected:p,disabled:r})),[u,p,r]);return(0,O.sY)({ourProps:{id:l,ref:v,role:"option",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,"aria-selected":!0===p||void 0,disabled:void 0,onClick:m,onFocus:E,onPointerMove:w,onMouseMove:w,onPointerLeave:S,onMouseLeave:S},theirProps:o,slot:P,defaultTag:"li",name:"Listbox.Option"})})),re=Object.assign(K,{Button:q,Label:J,Options:ee,Option:te});var ne=r(5255);var oe=r(5893),ae={"bottom left":"oFXYv034","bottom right":"Jl5DRf3z","top left":"aacUeHXS","top right":"c68gv_LQ"};function ie(e){var t=e.className,r=e.items,o=e.defaultValue,i=e.value,l=e.onChange,u=e.readonly,c=e.direction,p=void 0===c?"bottom left":c,f=e.label,v=[ae[p]];return(0,oe.jsxs)(d.U,{gap:"8",children:[f&&(0,oe.jsx)("span",{children:"".concat(f,">")}),(0,oe.jsxs)(re,{as:"div",disabled:u,className:(0,a.A)("LsvjvEi8",{},[t]),value:i,onChange:l,children:[(0,oe.jsx)(re.Button,{disabled:u,className:"qrO2mTX9",children:(0,oe.jsx)(ne.zx,{disabled:u,children:null!=i?i:o})}),(0,oe.jsx)(re.Options,{className:(0,a.A)("V57wMCSt",{},v),children:null==r?void 0:r.map((function(e){return(0,oe.jsx)(re.Option,{value:e.value,as:s.Fragment,disabled:e.disabled,children:function(t){var r,o=t.active,i=t.selected;return(0,oe.jsxs)("li",{className:(0,a.A)("mBjSAlwm",(r={},(0,n.Z)(r,"lE7gaHdr",o),(0,n.Z)(r,"yYTJVDnW",e.disabled),r)),children:[i&&"!!!",e.content]})}},e.value)}))})]})]})}var le=[{value:f.USA,content:f.USA},{value:f.EUROPE,content:f.EUROPE}],ue=(0,s.memo)((function(e){var t=e.value,r=e.onChange,n=e.readonly,o=e.className,a=(0,i.$)().t,l=(0,s.useCallback)((function(e){null==r||r(e)}),[r]);return(0,oe.jsx)(ie,{readonly:n,className:o,items:le,value:t,onChange:l,defaultValue:a("select-country"),label:a("select-country"),direction:"top right"})})),ce=function(e){return e.USD="usd",e.EUR="eur",e.POUND="pound",e}({}),se=[{value:ce.USD,content:ce.USD},{value:ce.EUR,content:ce.EUR},{value:ce.POUND,content:ce.POUND}],de=(0,s.memo)((function(e){var t=e.value,r=e.onChange,n=e.readonly,o=e.className,a=(0,i.$)().t,l=(0,s.useCallback)((function(e){null==r||r(e)}),[r]);return(0,oe.jsx)(ie,{readonly:n,className:o,items:se,value:t,onChange:l,defaultValue:a("select-currency"),label:a("select-currency"),direction:"top right"})})),pe=r(2949),fe=r(8312),ve=r(379);const he={ProfileCard:"wW9jgKKD",loading:"t07ZxFGs",error:"i5YK3SSb",editing:"DjTe7269"};var ye=function(e){var t=e.className,r=e.data,o=e.isLoading,l=e.error,u=e.readonly,c=e.onChangeFirstname,s=e.onChangeLastname,f=e.onChangeCity,v=e.onChangeAge,h=e.onChangeUsername,y=e.onChangeAvatar,g=e.onChangeCurrency,b=e.onChangeCountry,m=(0,i.$)().t;if(o)return(0,oe.jsx)(d.U,{justify:"center",className:(0,a.A)(he.ProfileCard,(0,n.Z)({},he.loading,!0),[t]),children:(0,oe.jsx)(ve.a,{})});if(l)return(0,oe.jsx)(d.U,{justify:"center",className:(0,a.A)(he.ProfileCard,{},[t,he.error]),children:(0,oe.jsx)(p.xv,{theme:p.lg.ERROR,title:m("error-while-profile-loading"),text:m("please-reload-the-page"),align:p.PH.CENTER})});var x=(0,n.Z)({},he.editing,!u);return(0,oe.jsxs)(d.g,{gap:"8",max:!0,className:(0,a.A)(he.ProfileCard,x,[t]),children:[(null==r?void 0:r.avatar)&&(0,oe.jsx)(d.U,{justify:"center",max:!0,className:he.avatarWrapper,children:(0,oe.jsx)(pe.q,{src:null==r?void 0:r.avatar})}),(0,oe.jsx)(fe.I,{value:null==r?void 0:r.first,placeholder:m("name"),className:he.input,onChange:c,readonly:u}),(0,oe.jsx)(fe.I,{value:null==r?void 0:r.lastname,placeholder:m("lastname"),className:he.input,onChange:s,readonly:u}),(0,oe.jsx)(fe.I,{type:"number",value:null==r?void 0:r.age,placeholder:m("age"),className:he.input,onChange:v,readonly:u}),(0,oe.jsx)(fe.I,{value:null==r?void 0:r.city,placeholder:m("city"),className:he.input,onChange:f,readonly:u}),(0,oe.jsx)(fe.I,{value:null==r?void 0:r.username,placeholder:m("username"),className:he.input,onChange:h,readonly:u}),(0,oe.jsx)(fe.I,{value:null==r?void 0:r.avatar,placeholder:m("avatar"),className:he.input,onChange:y,readonly:u}),(0,oe.jsx)(de,{className:he.input,value:null==r?void 0:r.currency,onChange:g,readonly:u}),(0,oe.jsx)(ue,{className:he.input,value:null==r?void 0:r.country,onChange:b,readonly:u})]})},ge=function(e){return e.INCORRECT_USER_DATA="INCORRECT_USER_DATA",e.INCORRECT_AGE="INCORRECT_AGE",e.INCORRECT_COUNTRY="INCORRECT_COUNTRY",e.NO_DATA="NO_DATA",e.SERVER_ERROR="SERVER_ERROR",e}({}),be=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.readonly},me=r(7081),xe=r(4268),Oe=r(5861),Re=r(4687),Ce=r.n(Re),Ee=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.form},je=function(e){if(!e)return[ge.NO_DATA];var t=e.first,r=e.lastname,n=e.age,o=e.country,a=[];return t&&r||a.push(ge.INCORRECT_USER_DATA),n&&Number.isInteger(n)||a.push(ge.INCORRECT_AGE),o||a.push(ge.INCORRECT_COUNTRY),a},we=(0,xe.hg)("profile/updateProfileData",function(){var e=(0,Oe.Z)(Ce().mark((function e(t,r){var n,o,a,i,l,u;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.extra,o=r.rejectWithValue,a=r.getState,i=Ee(a()),!(l=je(i)).length){e.next=5;break}return e.abrupt("return",o(l));case 5:return e.prev=5,e.next=8,n.api.put("/profile/".concat(null==i?void 0:i.id),i);case 8:if((u=e.sent).data){e.next=11;break}throw new Error;case 11:return e.abrupt("return",u.data);case 14:return e.prev=14,e.t0=e.catch(5),console.log("e",e.t0),e.abrupt("return",o([ge.SERVER_ERROR]));case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,r){return e.apply(this,arguments)}}()),Se=(0,xe.hg)("profile/fetchProfileData",function(){var e=(0,Oe.Z)(Ce().mark((function e(t,r){var n,o,a;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.extra,o=r.rejectWithValue,e.prev=1,e.next=4,n.api.get("/profile/".concat(t));case 4:if((a=e.sent).data){e.next=7;break}throw new Error;case 7:return e.abrupt("return",a.data);case 10:return e.prev=10,e.t0=e.catch(1),console.log("e",e.t0),e.abrupt("return",o("error"));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}());function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te=(0,xe.oM)({name:"profile",initialState:{readonly:!0,isLoading:!1,error:void 0,data:void 0},reducers:{setReadonly:function(e,t){e.readonly=t.payload},cancelEdit:function(e){e.readonly=!0,e.validateErrors=void 0,e.form=e.data},updateProfile:function(e,t){e.form=Ne(Ne({},e.form),t.payload)}},extraReducers:function(e){e.addCase(Se.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(Se.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload})).addCase(Se.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload})).addCase(we.pending,(function(e){e.validateErrors=void 0,e.isLoading=!0})).addCase(we.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload,e.readonly=!0,e.validateErrors=void 0})).addCase(we.rejected,(function(e,t){e.isLoading=!1,e.validateErrors=t.payload}))}}),Le=Te.actions,Ie=Te.reducer,De=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.data},ke=(0,s.memo)((function(e){var t=e.className,r=(0,u.T)(),n=(0,i.$)().t,l=(0,o.v9)(me.m5),c=(0,o.v9)(De),f=(null==l?void 0:l.id)===(null==c?void 0:c.id),v=(0,o.v9)(be),h=(0,s.useCallback)((function(){r(Le.setReadonly(!1))}),[r]),y=(0,s.useCallback)((function(){r(Le.cancelEdit())}),[r]),g=(0,s.useCallback)((function(){r(we())}),[r]);return(0,oe.jsxs)(d.U,{max:!0,justify:"between",className:(0,a.A)("",{},[t]),children:[(0,oe.jsx)(p.xv,{title:n("Profile")}),f&&(0,oe.jsx)("div",{children:v?(0,oe.jsx)(ne.zx,{theme:ne.bn.OUTLINE,onClick:h,children:n("Edit")}):(0,oe.jsxs)(d.U,{gap:"8",children:[(0,oe.jsx)(ne.zx,{theme:ne.bn.OUTLINE_RED,onClick:y,children:n("Cancel")}),(0,oe.jsx)(ne.zx,{theme:ne.bn.OUTLINE,onClick:g,children:n("Save")})]})})]})})),Ae=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.error},_e=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.validateErrors},Ue=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.isLoading},Fe={profile:Ie},Me=(0,s.memo)((function(e){var t,r=e.className,f=e.id,v=(0,i.$)("profile").t,h=(0,u.T)(),y=(0,o.v9)(Ee),g=(0,o.v9)(Ue),b=(0,o.v9)(Ae),m=(0,o.v9)(be),x=(0,o.v9)(_e),O=(t={},(0,n.Z)(t,ge.SERVER_ERROR,v("server-error")),(0,n.Z)(t,ge.NO_DATA,v("no-data")),(0,n.Z)(t,ge.INCORRECT_USER_DATA,v("incorrect-user-data")),(0,n.Z)(t,ge.INCORRECT_COUNTRY,v("incorrect-country")),(0,n.Z)(t,ge.INCORRECT_AGE,v("incorrect-age")),t);(0,c.Q)((function(){f&&h(Se(f))}));var R=(0,s.useCallback)((function(e){h(Le.updateProfile({first:e||""}))}),[h]),C=(0,s.useCallback)((function(e){h(Le.updateProfile({lastname:e||""}))}),[h]),E=(0,s.useCallback)((function(e){h(Le.updateProfile({city:e||""}))}),[h]),j=(0,s.useCallback)((function(e){h(Le.updateProfile({age:Number(e||0)}))}),[h]),w=(0,s.useCallback)((function(e){h(Le.updateProfile({username:e||""}))}),[h]),S=(0,s.useCallback)((function(e){h(Le.updateProfile({avatar:e||""}))}),[h]),P=(0,s.useCallback)((function(e){h(Le.updateProfile({currency:e}))}),[h]),N=(0,s.useCallback)((function(e){h(Le.updateProfile({country:e}))}),[h]);return(0,oe.jsx)(l.W,{reducers:Fe,children:(0,oe.jsxs)(d.g,{max:!0,gap:"8",className:(0,a.A)("",{},[r]),children:[(0,oe.jsx)(ke,{}),(null==x?void 0:x.length)&&x.map((function(e){return(0,oe.jsx)(p.xv,{text:e,theme:p.lg.ERROR},O[e])})),(0,oe.jsx)(ye,{data:y,isLoading:g,error:b,readonly:m,onChangeFirstname:R,onChangeLastname:C,onChangeCity:E,onChangeAge:j,onChangeUsername:w,onChangeAvatar:S,onChangeCurrency:P,onChangeCountry:N})]})})})),Ze=r(9250),ze=r(4092),Ve=r(8979);const Ge=function(e){var t=e.className,r=((0,i.$)("profile").t,(0,Ze.UO)().id);return(0,oe.jsx)(Ve.T,{className:(0,a.A)("",{},[t]),children:(0,oe.jsx)(ze.g,{gap:"16",max:!0,children:(0,oe.jsx)(Me,{id:r})})})}},1233:(e,t,r)=>{"use strict";r.d(t,{W:()=>l});var n=r(9439),o=r(7294),a=r(3942),i=r(5893),l=function(e){var t=e.children,r=e.reducers,l=e.removeAfterUnmount,u=void 0===l||l,c=(0,a.oR)(),s=(0,a.I0)();return(0,o.useEffect)((function(){var e=c.reducerManager.getMountedReducers();return Object.entries(r).forEach((function(t){var r=(0,n.Z)(t,2),o=r[0],a=r[1];e[o]||(c.reducerManager.add(o,a),s({type:"@INIT ".concat(o," reducer")}))})),function(){u&&Object.entries(r).forEach((function(e){var t=(0,n.Z)(e,2),r=t[0];t[1],c.reducerManager.remove(r),s({type:"@DESTROY ".concat(r," reducer")})}))}}),[]),(0,i.jsx)(i.Fragment,{children:t})}},8312:(e,t,r)=>{"use strict";r.d(t,{I:()=>p});var n=r(4942),o=r(9439),a=r(4925),i=r(7294),l=r(3007);var u=r(5893),c=["className","value","onChange","type","placeholder","autoFocus","readonly"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=(0,i.memo)((function(e){var t=e.className,r=e.value,s=e.onChange,p=e.type,f=void 0===p?"text":p,v=e.placeholder,h=e.autoFocus,y=e.readonly,g=(0,a.Z)(e,c),b=(0,i.useState)(!1),m=(0,o.Z)(b,2),x=m[0],O=m[1],R=(0,i.useState)(0),C=(0,o.Z)(R,2),E=C[0],j=C[1],w=(0,i.useRef)(null),S=x&&!y;return(0,i.useEffect)((function(){var e;h&&(O(!0),null==w||null===(e=w.current)||void 0===e||e.focus())}),[h]),(0,n.Z)({},"fTN1PnWu",y),(0,u.jsxs)("div",{className:(0,l.A)("LuFDUWoP",{},[t]),children:[v&&(0,u.jsx)("div",{className:"emAQQ85i",children:"".concat(v,">")}),(0,u.jsxs)("div",{className:"y1GiFC_L",children:[(0,u.jsx)("input",d({ref:w,type:f,value:r,onChange:function(e){null==s||s(e.target.value)},className:"LVdIPwcx",onFocus:function(){O(!0)},onBlur:function(){O(!1)},onSelect:function(e){var t;j((null==e||null===(t=e.target)||void 0===t?void 0:t.selectionStart)||0)},readOnly:y},g)),S&&(0,u.jsx)("span",{className:"lqMFGBuL",style:{left:"".concat(9*E,"px")}})]})]})}))},7061:(e,t,r)=>{var n=r(8698).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),l=new P(n||[]);return i(a,"_invoke",{value:E(e,r,l)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var v={};function h(){}function y(){}function g(){}var b={};d(b,u,(function(){return this}));var m=Object.getPrototypeOf,x=m&&m(m(N([])));x&&x!==r&&a.call(x,u)&&(b=x);var O=g.prototype=h.prototype=Object.create(b);function R(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,i,l,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==n(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,l,u)}),(function(e){r("throw",e,l,u)})):t.resolve(d).then((function(e){s.value=e,l(s)}),(function(e){return r("throw",e,l,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function E(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var l=j(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function N(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return y.prototype=g,i(O,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:y,configurable:!0}),y.displayName=d(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},R(C.prototype),d(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new C(p(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(O),d(O,s,"Generator"),d(O,u,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},8698:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:(e,t,r)=>{var n=r(7061)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},5861:(e,t,r)=>{"use strict";function n(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function l(e){n(i,o,a,l,u,"next",e)}function u(e){n(i,o,a,l,u,"throw",e)}l(void 0)}))}}r.d(t,{Z:()=>o})}}]);