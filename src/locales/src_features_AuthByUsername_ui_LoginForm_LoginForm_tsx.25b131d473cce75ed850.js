/*! For license information please see src_features_AuthByUsername_ui_LoginForm_LoginForm_tsx.25b131d473cce75ed850.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_advanced=self.webpackChunkreact_advanced||[]).push([["src_features_AuthByUsername_ui_LoginForm_LoginForm_tsx"],{"./src/features/AuthByUsername/ui/LoginForm/LoginForm.tsx":(e,r,t)=>{t.r(r),t.d(r,{default:()=>U});var s=t("./node_modules/react/jsx-runtime.js"),n=t("./node_modules/react/index.js"),o=t("./node_modules/react-i18next/dist/es/useTranslation.js"),i=t("./node_modules/react-redux/es/index.js"),u=t("./src/shared/lib/classNames/classNames.ts"),a=t("./src/shared/lib/components/DynamicModuleLoader/DynamicModuleLoader.tsx"),l=t("./src/shared/lib/hooks/useAppDispatch/useAppDispatch.ts"),d=t("./src/shared/ui/Button/Button.tsx"),c=t("./src/shared/ui/Input/Input.tsx"),m=t("./src/shared/ui/Text/Text.tsx"),f=t("./src/features/AuthByUsername/model/selectors/getLoginUsername/getLoginUsername.ts"),h=t("./src/features/AuthByUsername/model/selectors/getLoginPassword/getLoginPassword.ts"),p=t("./src/features/AuthByUsername/model/selectors/getLoginIsLoading/getLoginIsLoading.ts"),g=t("./src/features/AuthByUsername/model/selectors/getLoginError/getLoginError.ts"),_=t("./src/features/AuthByUsername/model/services/loginByUsername/loginByUsername.ts"),y=t("./src/features/AuthByUsername/model/slice/loginSlice.ts"),v=t("./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss"),A=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"),x=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js");t.$Refresh$.runtime=t("./node_modules/react-refresh/runtime.js");var j=t.$Refresh$.signature(),L=function(){return L=Object.assign||function(e){for(var r,t=1,s=arguments.length;t<s;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},L.apply(this,arguments)},b={loginForm:y.loginReducer},w=j((0,n.memo)(B=j((function(e){j();var r=e.className,t=e.onSuccess,A=(0,l.useAppDispatch)(),x=(0,o.useTranslation)().t,w=(0,i.useSelector)(f.getLoginUsername),U=(0,i.useSelector)(h.getLoginPassword),B=(0,i.useSelector)(p.getLoginIsLoading),R=(0,i.useSelector)(g.getLoginError),k=(0,n.useCallback)((function(e){A(y.loginActions.setUsername(e))}),[A]),F=(0,n.useCallback)((function(e){A(y.loginActions.setPassword(e))}),[A]),$=(0,n.useCallback)((function(){return e=void 0,r=void 0,n=function(){return function(e,r){var t,s,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(t=1,s&&(n=2&u[0]?s.return:u[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,u[1])).done)return n;switch(s=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,s=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){i.label=u[1];break}if(6===u[0]&&i.label<n[1]){i.label=n[1],n=u;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(u);break}n[2]&&i.ops.pop(),i.trys.pop();continue}u=r.call(e,i)}catch(e){u=[6,e],s=0}finally{t=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}(this,(function(e){switch(e.label){case 0:return[4,A((0,_.loginByUsername)({username:w,password:U}))];case 1:return"fulfilled"===e.sent().meta.requestStatus&&t(),[2]}}))},new((s=void 0)||(s=Promise))((function(t,o){function i(e){try{a(n.next(e))}catch(e){o(e)}}function u(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof s?r:new s((function(e){e(r)}))).then(i,u)}a((n=n.apply(e,r||[])).next())}));var e,r,s,n}),[A,t,U,w]);return(0,s.jsx)(a.DynamicModuleLoader,L({reducers:b,removeAfterUnmount:!0},{children:(0,s.jsxs)("div",L({className:(0,u.classNames)(v.default.LoginForm,{},[r])},{children:[(0,s.jsx)(m.Text,{title:x("authorization form")}),R&&(0,s.jsx)(m.Text,{text:x("incorrect login or password"),theme:m.TextTheme.ERROR}),(0,s.jsx)(c.Input,{className:v.default.input,placeholder:x("user name"),autoFocus:!0,onChange:k,value:w}),(0,s.jsx)(c.Input,{className:v.default.input,placeholder:x("password"),onChange:F,value:U}),(0,s.jsx)(d.Button,L({theme:d.ButtonTheme.OUTLINE,className:v.default.loginBtn,onClick:$,disabled:B},{children:x("sing in")}))]}))}))}),"jlSWSkCfY7Yedg2OW0vj0bK9+cI=",!1,(function(){return[l.useAppDispatch,o.useTranslation,i.useSelector,i.useSelector,i.useSelector,i.useSelector]}))),"jlSWSkCfY7Yedg2OW0vj0bK9+cI=",!1,(function(){return[l.useAppDispatch,o.useTranslation,i.useSelector,i.useSelector,i.useSelector,i.useSelector]}));R=w;const U=w;var B,R;t.$Refresh$.register(B,"LoginForm$memo"),t.$Refresh$.register(R,"LoginForm");const k=t.$Refresh$.moduleId,F=A.getModuleExports(k);function $(r){{let t,s;return void 0!==x&&(t=x),"undefined"!=typeof __react_refresh_test__&&(s=__react_refresh_test__),A.executeRuntime(r,k,e.hot,t,s)}}"undefined"!=typeof Promise&&F instanceof Promise?F.then($):$(F)},"./src/shared/lib/components/DynamicModuleLoader/DynamicModuleLoader.tsx":(e,r,t)=>{t.r(r),t.d(r,{DynamicModuleLoader:()=>d});var s=t("./node_modules/react/jsx-runtime.js"),n=t("./node_modules/react/index.js"),o=t("./node_modules/react-redux/es/index.js"),i=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"),u=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js");t.$Refresh$.runtime=t("./node_modules/react-refresh/runtime.js");var a,l=t.$Refresh$.signature(),d=function(e){l();var r=e.children,t=e.reducers,i=e.removeAfterUnmount,u=void 0===i||i,a=(0,o.useStore)(),d=(0,o.useDispatch)();return(0,n.useEffect)((function(){var e=a.reducerManager.getMountedReducers();return Object.entries(t).forEach((function(r){var t=r[0],s=r[1];e[t]||(a.reducerManager.add(t,s),d({type:"@INIT ".concat(t," reducer")}))})),function(){u&&Object.entries(t).forEach((function(e){var r=e[0];e[1],a.reducerManager.remove(r),d({type:"@DESTROY ".concat(r," reducer")})}))}}),[]),(0,s.jsx)(s.Fragment,{children:r})};l(d,"as0TxbPzkR8qMmsNaB537Pq5S7M=",!1,(function(){return[o.useStore,o.useDispatch]})),a=d,t.$Refresh$.register(a,"DynamicModuleLoader");const c=t.$Refresh$.moduleId,m=i.getModuleExports(c);function f(r){{let t,s;return void 0!==u&&(t=u),"undefined"!=typeof __react_refresh_test__&&(s=__react_refresh_test__),i.executeRuntime(r,c,e.hot,t,s)}}"undefined"!=typeof Promise&&m instanceof Promise?m.then(f):f(m)},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss":(e,r,t)=>{t.r(r),t.d(r,{default:()=>u});var s=t("./node_modules/css-loader/dist/runtime/sourceMaps.js"),n=t.n(s),o=t("./node_modules/css-loader/dist/runtime/api.js"),i=t.n(o)()(n());i.push([e.id,".src-features-AuthByUsername-ui-LoginForm-LoginForm-module__LoginForm--xYNEf {\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n}\n\n.src-features-AuthByUsername-ui-LoginForm-LoginForm-module__input--PQPa1 {\n  margin-top: 10px;\n}\n\n.src-features-AuthByUsername-ui-LoginForm-LoginForm-module__loginBtn--Ok_5a {\n  margin-top: 15px;\n  margin-left: auto;\n}","",{version:3,sources:["webpack://./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss"],names:[],mappings:"AAAA;EACE,aAAA;EACA,sBAAA;EACA,YAAA;AACF;;AAEA;EACE,gBAAA;AACF;;AAEA;EACE,gBAAA;EACA,iBAAA;AACF",sourcesContent:[".LoginForm {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n}\r\n\r\n.input {\r\n  margin-top: 10px;\r\n}\r\n\r\n.loginBtn {\r\n  margin-top: 15px;\r\n  margin-left: auto;\r\n}\r\n"],sourceRoot:""}]),i.locals={LoginForm:"src-features-AuthByUsername-ui-LoginForm-LoginForm-module__LoginForm--xYNEf",input:"src-features-AuthByUsername-ui-LoginForm-LoginForm-module__input--PQPa1",loginBtn:"src-features-AuthByUsername-ui-LoginForm-LoginForm-module__loginBtn--Ok_5a"};const u=i},"./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss":(e,r,t)=>{t.r(r),t.d(r,{default:()=>A});var s=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),n=t.n(s),o=t("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),i=t.n(o),u=t("./node_modules/style-loader/dist/runtime/insertBySelector.js"),a=t.n(u),l=t("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),d=t.n(l),c=t("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),m=t.n(c),f=t("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),h=t.n(f),p=t("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss"),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=a().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=m();var _=n()(p.default,g);if(!p.default.locals||e.hot.invalidate){var y=!p.default.locals,v=y?p:p.default.locals;e.hot.accept("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss",(r=>{p=t("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss"),function(e,r,t){if(!e&&r||e&&!r)return!1;var s;for(s in e)if((!t||"default"!==s)&&e[s]!==r[s])return!1;for(s in r)if(!(t&&"default"===s||e[s]))return!1;return!0}(v,y?p:p.default.locals,y)?(v=y?p:p.default.locals,_(p.default)):e.hot.invalidate()}))}e.hot.dispose((function(){_()}));const A=p.default&&p.default.locals?p.default.locals:void 0},"./src/features/AuthByUsername/model/selectors/getLoginError/getLoginError.ts":(e,r,t)=>{t.r(r),t.d(r,{getLoginError:()=>o});var s=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"),n=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js");t.$Refresh$.runtime=t("./node_modules/react-refresh/runtime.js");var o=function(e){var r;return null===(r=null==e?void 0:e.loginForm)||void 0===r?void 0:r.error};const i=t.$Refresh$.moduleId,u=s.getModuleExports(i);function a(r){{let t,o;return void 0!==n&&(t=n),"undefined"!=typeof __react_refresh_test__&&(o=__react_refresh_test__),s.executeRuntime(r,i,e.hot,t,o)}}"undefined"!=typeof Promise&&u instanceof Promise?u.then(a):a(u)},"./src/features/AuthByUsername/model/selectors/getLoginIsLoading/getLoginIsLoading.ts":(e,r,t)=>{t.r(r),t.d(r,{getLoginIsLoading:()=>o});var s=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"),n=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js");t.$Refresh$.runtime=t("./node_modules/react-refresh/runtime.js");var o=function(e){var r;return(null===(r=null==e?void 0:e.loginForm)||void 0===r?void 0:r.isLoading)||!1};const i=t.$Refresh$.moduleId,u=s.getModuleExports(i);function a(r){{let t,o;return void 0!==n&&(t=n),"undefined"!=typeof __react_refresh_test__&&(o=__react_refresh_test__),s.executeRuntime(r,i,e.hot,t,o)}}"undefined"!=typeof Promise&&u instanceof Promise?u.then(a):a(u)},"./src/features/AuthByUsername/model/selectors/getLoginPassword/getLoginPassword.ts":(e,r,t)=>{t.r(r),t.d(r,{getLoginPassword:()=>o});var s=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"),n=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js");t.$Refresh$.runtime=t("./node_modules/react-refresh/runtime.js");var o=function(e){var r;return(null===(r=null==e?void 0:e.loginForm)||void 0===r?void 0:r.password)||""};const i=t.$Refresh$.moduleId,u=s.getModuleExports(i);function a(r){{let t,o;return void 0!==n&&(t=n),"undefined"!=typeof __react_refresh_test__&&(o=__react_refresh_test__),s.executeRuntime(r,i,e.hot,t,o)}}"undefined"!=typeof Promise&&u instanceof Promise?u.then(a):a(u)},"./src/features/AuthByUsername/model/selectors/getLoginUsername/getLoginUsername.ts":(e,r,t)=>{t.r(r),t.d(r,{getLoginUsername:()=>o});var s=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"),n=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js");t.$Refresh$.runtime=t("./node_modules/react-refresh/runtime.js");var o=function(e){var r;return(null===(r=null==e?void 0:e.loginForm)||void 0===r?void 0:r.username)||""};const i=t.$Refresh$.moduleId,u=s.getModuleExports(i);function a(r){{let t,o;return void 0!==n&&(t=n),"undefined"!=typeof __react_refresh_test__&&(o=__react_refresh_test__),s.executeRuntime(r,i,e.hot,t,o)}}"undefined"!=typeof Promise&&u instanceof Promise?u.then(a):a(u)},"./src/features/AuthByUsername/model/services/loginByUsername/loginByUsername.ts":(e,r,t)=>{t.r(r),t.d(r,{loginByUsername:()=>a});var s=t("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),n=t("./src/entities/User/index.ts"),o=t("./src/shared/const/localstorage.ts"),i=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"),u=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js");t.$Refresh$.runtime=t("./node_modules/react-refresh/runtime.js");var a=(0,s.createAsyncThunk)("login/loginByUsername",(function(e,r){return t=void 0,s=void 0,u=function(){var t,s,i,u,a;return function(e,r){var t,s,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(t=1,s&&(n=2&u[0]?s.return:u[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,u[1])).done)return n;switch(s=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,s=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){i.label=u[1];break}if(6===u[0]&&i.label<n[1]){i.label=n[1],n=u;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(u);break}n[2]&&i.ops.pop(),i.trys.pop();continue}u=r.call(e,i)}catch(e){u=[6,e],s=0}finally{t=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}(this,(function(l){switch(l.label){case 0:t=r.extra,s=r.dispatch,i=r.rejectWithValue,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t.api.post("/login",e)];case 2:if(!(u=l.sent()).data)throw new Error;return localStorage.setItem(o.USER_LOCALSTORAGE_KEY,JSON.stringify(u.data)),s(n.userActions.setAuthData(u.data)),[2,u.data];case 3:return a=l.sent(),console.log("e",a),[2,i("error")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,r){function n(e){try{a(u.next(e))}catch(e){r(e)}}function o(e){try{a(u.throw(e))}catch(e){r(e)}}function a(r){var t;r.done?e(r.value):(t=r.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,o)}a((u=u.apply(t,s||[])).next())}));var t,s,i,u}));const l=t.$Refresh$.moduleId,d=i.getModuleExports(l);function c(r){{let t,s;return void 0!==u&&(t=u),"undefined"!=typeof __react_refresh_test__&&(s=__react_refresh_test__),i.executeRuntime(r,l,e.hot,t,s)}}"undefined"!=typeof Promise&&d instanceof Promise?d.then(c):c(d)},"./src/features/AuthByUsername/model/slice/loginSlice.ts":(e,r,t)=>{t.r(r),t.d(r,{loginActions:()=>a,loginReducer:()=>l,loginSlice:()=>u});var s=t("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),n=t("./src/features/AuthByUsername/model/services/loginByUsername/loginByUsername.ts"),o=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"),i=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js");t.$Refresh$.runtime=t("./node_modules/react-refresh/runtime.js");var u=(0,s.createSlice)({name:"login",initialState:{isLoading:!1,username:"",password:""},reducers:{setUsername:function(e,r){e.username=r.payload},setPassword:function(e,r){e.password=r.payload}},extraReducers:function(e){e.addCase(n.loginByUsername.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(n.loginByUsername.fulfilled,(function(e,r){e.isLoading=!1})).addCase(n.loginByUsername.rejected,(function(e,r){e.isLoading=!1,e.error=r.payload}))}}),a=u.actions,l=u.reducer;const d=t.$Refresh$.moduleId,c=o.getModuleExports(d);function m(r){{let t,s;return void 0!==i&&(t=i),"undefined"!=typeof __react_refresh_test__&&(s=__react_refresh_test__),o.executeRuntime(r,d,e.hot,t,s)}}"undefined"!=typeof Promise&&c instanceof Promise?c.then(m):m(c)},"./src/shared/lib/hooks/useAppDispatch/useAppDispatch.ts":(e,r,t)=>{t.r(r),t.d(r,{useAppDispatch:()=>i});var s=t("./node_modules/react-redux/es/index.js"),n=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"),o=t("./node_modules/@pmmmwh/react-refresh-webpack-plugin/overlay/index.js");t.$Refresh$.runtime=t("./node_modules/react-refresh/runtime.js");var i=function(){return(0,s.useDispatch)()};const u=t.$Refresh$.moduleId,a=n.getModuleExports(u);function l(r){{let t,s;return void 0!==o&&(t=o),"undefined"!=typeof __react_refresh_test__&&(s=__react_refresh_test__),n.executeRuntime(r,u,e.hot,t,s)}}"undefined"!=typeof Promise&&a instanceof Promise?a.then(l):l(a)}}]);